"use strict";(self.webpackChunkguardian_portal_storybook=self.webpackChunkguardian_portal_storybook||[]).push([[5557],{"./src/components/herobanner/HeroBanner.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,ManyImages:()=>ManyImages,SingleImage:()=>SingleImage,__namedExportsOrder:()=>__namedExportsOrder,default:()=>HeroBanner_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),Box=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),CardMedia=__webpack_require__("./node_modules/@mui/material/CardMedia/CardMedia.js"),Link=__webpack_require__("./node_modules/@mui/material/Link/Link.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js");const container={width:"100%",height:"1000px",maxHeight:"550px",position:"relative",marginBottom:"24px"},mainImage={width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:0,left:0,border:"0.5px solid rgba(40, 40, 40, 0.3)"},textOverlay={position:"absolute",height:{xs:100,sm:139,md:239},bottom:{xs:10,sm:20,md:30},left:{xs:10,sm:15,md:20},right:{xs:10,sm:15,md:20},backgroundColor:"rgba(67, 72, 81, 0.4)",padding:{xs:2,sm:3,md:4},fontFamily:"Libre Franklin, sans-serif",display:"flex",flexDirection:"column",gap:{xs:1,sm:2,md:4},color:"rgb(242, 240, 241)"},heading={fontSize:{xs:12,sm:16,md:24},fontWeight:"bold",lineHeight:1.2,marginBottom:{xs:-1,sm:-1,md:-2},color:"var(--schemes-primary)"},subheading={fontSize:{xs:8,sm:10,md:12},lineHeight:1.2,color:"var(--schemes-on-background)"},thumbnailContainer={display:"flex",justifyContent:"flex-end",alignItems:"flex-end",position:"absolute",bottom:{xs:15,sm:20,md:50},right:{xs:25,sm:30,md:50},maxWidth:{xs:"100%",sm:"80%",md:"60%"},gap:{xs:1,sm:2}},thumbnailWrapper={display:"flex",flexDirection:"column",alignItems:"center",marginBottom:{xs:1,sm:2}},thumbnailButton={cursor:"pointer",position:"relative",width:{xs:"40px",sm:"50px",md:"100px"},height:{xs:"35px",sm:"45px",md:"100px"},boxSizing:"border-box",border:"solid 1px var(--m-3-black)","&.active":{border:"1px solid white"},borderRadius:"4px",gap:"50px",boxShadow:"0.5px 0.5px 0.5px 0.5px"},imgCaption={fontSize:{xs:6,sm:8,md:12},textAlign:"center",fontFamily:"IBM PLEX MONO",color:"rgb(242, 240, 241)",marginTop:{xs:.5,sm:1}},activeThumbnail={borderColor:"white",borderWidth:2};var useAutoSlide=__webpack_require__("./src/components/herobanner/useAutoSlide.tsx"),browser=__webpack_require__("./node_modules/isomorphic-dompurify/browser.js"),browser_default=__webpack_require__.n(browser);const getImageStyle=(index,activeIndex)=>activeIndex===index?activeThumbnail:{},getThumbnailButtonStyle=(index,activeIndex)=>({...thumbnailButton,border:activeIndex===index?"2px solid white":"1px solid black"}),HeroBanner=({articles})=>{const[activeIndex,setActiveIndex]=(0,react.useState)(0),getImageUrlOrDefault=imageSrc=>imageSrc||"/images/default_image.jpg",{pauseAutoSlide,resumeAutoSlide}=(0,useAutoSlide.Y)(articles.length,setActiveIndex,5e3),[htmlContent,setHtmlContent]=(0,react.useState)("");return(0,react.useEffect)((()=>{const safeBody=browser_default().sanitize(articles[activeIndex].body);setHtmlContent(safeBody)}),[articles,activeIndex]),(0,jsx_runtime.jsxs)(Box.A,{sx:container,onMouseEnter:pauseAutoSlide,onMouseLeave:resumeAutoSlide,children:[(0,jsx_runtime.jsx)(Box.A,{sx:mainImage,children:(0,jsx_runtime.jsx)(CardMedia.A,{component:"img",height:"100",image:getImageUrlOrDefault(articles[activeIndex].image),alt:articles[activeIndex].title,style:{objectFit:"cover"}})}),(0,jsx_runtime.jsxs)(Box.A,{sx:textOverlay,children:[(0,jsx_runtime.jsx)(Link.A,{href:`/article/${articles[activeIndex].slug}`,children:(0,jsx_runtime.jsx)(Typography.A,{sx:heading,children:articles[activeIndex].title})}),(0,jsx_runtime.jsx)(Typography.A,{sx:{...subheading,overflow:"hidden"},dangerouslySetInnerHTML:{__html:htmlContent}})]}),(0,jsx_runtime.jsx)(Box.A,{sx:thumbnailContainer,children:articles.map(((article,index)=>(0,jsx_runtime.jsxs)(Box.A,{sx:thumbnailWrapper,children:[(0,jsx_runtime.jsx)(Box.A,{onClick:()=>setActiveIndex(index),sx:getThumbnailButtonStyle(index,activeIndex),children:(0,jsx_runtime.jsx)(CardMedia.A,{alt:article.imageCaption||`thumbnail ${index}`,sizes:"(max-width: 768px) 25vw, 10vw",component:"img",height:"100",image:getImageUrlOrDefault(article.image),style:{...getImageStyle(index,index),objectFit:"fill"}})}),(0,jsx_runtime.jsx)(Typography.A,{sx:imgCaption,children:article.imageCaption||""})]},article.id)))})]})},herobanner_HeroBanner=HeroBanner;HeroBanner.__docgenInfo={description:"",methods:[],displayName:"HeroBanner",props:{articles:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\r\n  id: number\r\n  status: string\r\n  sort: number | null\r\n  userCreated: string\r\n  dateCreated: string\r\n  userUpdated: string\r\n  category: string\r\n  title: string\r\n  body: string\r\n  publishedDate: string\r\n  slug: string\r\n  image: string | null\r\n  imageCaption: string | null\r\n  attachments: any[]\r\n  document: string | null\r\n  landingPage: number\r\n  author: string\r\n  location: string | null\r\n  displayOnHome: boolean\r\n  tags: number[]\r\n  comments: any[]\r\n  announcement: boolean\r\n}",signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"status",value:{name:"string",required:!0}},{key:"sort",value:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}],required:!0}},{key:"userCreated",value:{name:"string",required:!0}},{key:"dateCreated",value:{name:"string",required:!0}},{key:"userUpdated",value:{name:"string",required:!0}},{key:"category",value:{name:"string",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"body",value:{name:"string",required:!0}},{key:"publishedDate",value:{name:"string",required:!0}},{key:"slug",value:{name:"string",required:!0}},{key:"image",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"imageCaption",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"attachments",value:{name:"Array",elements:[{name:"any"}],raw:"any[]",required:!0}},{key:"document",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"landingPage",value:{name:"number",required:!0}},{key:"author",value:{name:"string",required:!0}},{key:"location",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"displayOnHome",value:{name:"boolean",required:!0}},{key:"tags",value:{name:"Array",elements:[{name:"number"}],raw:"number[]",required:!0}},{key:"comments",value:{name:"Array",elements:[{name:"any"}],raw:"any[]",required:!0}},{key:"announcement",value:{name:"boolean",required:!0}}]}}],raw:"Article[]"},description:""}}};const HeroBanner_stories={component:herobanner_HeroBanner,title:"Components/HeroBanner"},sampleHeroBannerData=[{id:1,title:"Sample News Article",body:"This is a sample news article body. It contains the main content of the news item.",image:"/images/space_force_command.jpeg",imageCaption:"Image for sample article",status:"published",sort:1,userCreated:"John Doe",dateCreated:"2023-06-01T00:00:00Z",userUpdated:"Jane Smith",category:"General",publishedDate:"2023-06-15T00:00:00Z",slug:"sample-news-article",document:null,landingPage:1,author:"John Author",location:"New York",displayOnHome:!0,tags:[1,2],comments:[],attachments:[],announcement:!1,id:1,image:"/images/space_force_command.jpeg",title:"Welcome to Our Site",body:"Discover amazing content"},{id:1,title:"Sample News Article",body:"This is a sample news article body. It contains the main content of the news item.",image:"/images/space_force_command.jpeg",imageCaption:"Image for sample article",status:"published",sort:1,userCreated:"John Doe",dateCreated:"2023-06-01T00:00:00Z",userUpdated:"Jane Smith",category:"General",publishedDate:"2023-06-15T00:00:00Z",slug:"sample-news-article",document:null,landingPage:1,author:"John Author",location:"New York",displayOnHome:!0,tags:[1,2],comments:[],attachments:[],announcement:!1,id:2,image:"/images/space_force_command.jpeg",title:"Explore Our Services",body:"Find what you need"}],Default={args:{articles:sampleHeroBannerData}},SingleImage={args:{articles:[sampleHeroBannerData[0]]}},ManyImages={args:{articles:Array(5).fill(null).map(((_,index)=>({id:1,title:"Sample News Article",body:"This is a sample news article body. It contains the main content of the news item.",image:"/images/space_force_command.jpeg",imageCaption:"Image for sample article",status:"published",sort:1,userCreated:"John Doe",dateCreated:"2023-06-01T00:00:00Z",userUpdated:"Jane Smith",category:"General",publishedDate:"2023-06-15T00:00:00Z",slug:"sample-news-article",document:null,landingPage:1,author:"John Author",location:"New York",displayOnHome:!0,tags:[1,2],comments:[],attachments:[],announcement:!1,id:index,image:`https://example.com/image${index+1}.jpg`,title:`Image ${index+1}`,body:`Subheading ${index+1}`,imageCaption:`Caption ${index+1}`})))}},__namedExportsOrder=["Default","SingleImage","ManyImages"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    articles: sampleHeroBannerData\n  }\n}",...Default.parameters?.docs?.source}}},SingleImage.parameters={...SingleImage.parameters,docs:{...SingleImage.parameters?.docs,source:{originalSource:"{\n  args: {\n    articles: [sampleHeroBannerData[0]]\n  }\n}",...SingleImage.parameters?.docs?.source}}},ManyImages.parameters={...ManyImages.parameters,docs:{...ManyImages.parameters?.docs,source:{originalSource:"{\n  args: {\n    articles: Array(5).fill(null).map((_, index) => ({\n      ...getSampleArticle(),\n      id: index,\n      image: `https://example.com/image${index + 1}.jpg`,\n      title: `Image ${index + 1}`,\n      body: `Subheading ${index + 1}`,\n      imageCaption: `Caption ${index + 1}`\n    }))\n  }\n}",...ManyImages.parameters?.docs?.source}}}},"./src/components/herobanner/useAutoSlide.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>useAutoSlide});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const useAutoSlide=(imagesLength,setActiveIndex,delay)=>{const intervalRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(intervalRef.current=window.setInterval((()=>{setActiveIndex((prevIndex=>(prevIndex+1)%imagesLength))}),delay),()=>{null!==intervalRef.current&&clearInterval(intervalRef.current)})),[imagesLength,delay,setActiveIndex]),{pauseAutoSlide:()=>{null!==intervalRef.current&&clearInterval(intervalRef.current)},resumeAutoSlide:()=>{intervalRef.current=window.setInterval((()=>{setActiveIndex((prevIndex=>(prevIndex+1)%imagesLength))}),delay)}}}}}]);